# Changelog

All notable changes to ClearBlueSky Stock Scanner are documented here.

---

## [7.0] â€“ 2026-02-06

### Added
- **Queue-based scans** â€“ Scans run in a background thread; GUI stays responsive (no hanging).
- **Run all scans** â€“ Checkbox under Run Scan runs all seven scanners in sequence with rate-limit delays (60s between scans). Note: "May take 20+ minutes due to API rate limits."
- **Rate-limit safeguard** â€“ 60-second delay between scans when "Run all scans" is used to respect API limits.
- **Velocity Pre-Market Hunter** â€“ New scan type: pre-market setups (gap recovery, accumulation, breakout, gap-and-go) with grades A+â€“F. Index: S&P 500 / Russell 2000 / ETFs (not ticker-restricted; up to 200 tickers) or fixed high-conviction list. Scanner: `velocity_scanner.run_premarket_scan`.
- **Swing + Velocity universe** â€“ Index option **Velocity (high-conviction)** runs emotional dip logic on the Velocity ticker list only (same filters; smaller universe).
- **In-app Update & Rollback** â€“ **Update** backs up current version, then downloads and applies latest release from GitHub. **Rollback** restores from last backup. **user_config.json is never overwritten** on update or rollback. See root **UPDATE.md**.
- **Versioning** â€“ From v7.0 onward: strict 7.1, 7.2, â€¦; tagged on GitHub; updater stays in sync.
- **Executive summary in all 3 report outputs** â€“ PDF directive, JSON `instructions`, and _ai.txt (system prompt + file header) now tell any AI to start with a brief executive summary (context, market/sector backdrop, scan rationale, key findings) in plain languageâ€”not only trade recommendations. Applies whether each file is used alone or together.
- **Elite Swing Trader System Prompt** â€“ Replaced Master Trading Report Directive with Elite Swing Trader methodology (1-5 day max hold, optimal 1-2 days, S&P 500 + leveraged ETFs, specific entry/exit windows, T+1 settlement rules).
- **Quick Lookup (1-5 tickers)** â€“ Quick Lookup now accepts 1-5 ticker symbols at once (comma or space separated). Generates a "Quick Lookup" report for all entered tickers.
- **Import/Export Config** â€“ New **ðŸ’¾ Config** button exports/imports full `user_config.json` (all settings + API keys) for backup or transfer to new PC.
- **GitHub attribution** â€“ All reports (PDF footer, AI directive, JSON, _ai.txt) include: "This report was generated by ClearBlueSky Stock Scanner. GitHub: https://github.com/ClearblueskyTrading/Clearbluesky-Stock-Scanner/releases"

### Changed
- **Swing** â€“ Now always uses emotional-only dip logic (emotional_dip_scanner). Separate "Emotional Dip" scan type removed. Index can be S&P 500, Russell 2000, ETFs, or **Velocity (high-conviction)**.
- **Watchlist** â€“ Single scanner with **Filter**: "Down X% today" (min % in 1â€“25% range) or "All tickers". Config: **Min % down (range 1â€“25%)**, **Filter**.
- **Scan types** â€“ Seven: Trend â€“ Long-term, Swing â€“ Dips, Watchlist, Velocity Barbell, Insider â€“ Latest, Pre-Market, **Velocity Pre-Market Hunter**.
- **CLI** â€“ `--scan` choices: trend, swing, watchlist, velocity, premarket, insider (no emotional_dip, no watchlist_tickers). Watchlist uses config `watchlist_filter` (all vs down_pct).
- **Pre-Market** â€“ Removed emoji from "Outside optimal pre-market window" message for Windows console encoding.
- **AI prompt strategy** â€“ Focus shifted from velocity-heavy to **swing trade + long trend** methodology (1-5 day holds, not velocity-specific).
- **Header subtitle** â€“ Changed to "AI Stock Research Tool Â· works best with Claude AI".

### Fixed
- Pre-Market scanner encoding on Windows (`'charmap' codec` when printing Unicode).
- **Reports folder** â€“ Reports path is always resolved relative to the app folder (not cwd). Prevents wrong or duplicate reports folders when config has a relative path; GUI and CLI use the same logic. Settings save the resolved absolute path.

---

## [6.5]

- Watchlist 3pm, Watchlist â€“ All tickers, Velocity Barbell (Foundation + Runner / Single Shot), AI fallback _ai.txt, install/upgrade fixes.

---

## [6.x] and earlier

See repository history for earlier release notes.
